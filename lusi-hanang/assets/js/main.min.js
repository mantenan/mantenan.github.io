/*
 * Maumantenan
 * https://maumantenan.com
 * Digital Wedding Invitation
 * Copyright (c) 2020-2022
 */
const datePublishStart=new Date(2022,3,30,0,0,0),datePublishEnd=new Date(2022,5,30,0,0,0),md5security="lusi-hanang security",md5account="lusi-hanang account",md5="ec071f0c6669e0ecb17c01d67724a66f",shUrl=atob("aHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMUxpdjFZeWZ4QU9iSWZXR3ZBQ3JJeUtfaWc1WWJEYUQxMllnTjFOOHRmSHMvZ3Zpei90cT90cXg9b3V0OmNzdiZzaGVldD0="),urlBingkisan=atob("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4TWdDT2Jib096aWlPZjU1TlJ4R01XNUNZYXhMSnlPWmZNQ0hKbEk1cXhLdmZ2TFQ0UV8wNnJxOWxpNGpBWTVwUHc4QS9leGVj"),urlKehadiran=atob("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4R0lfSXhpY21jUkJPYzhBOEotamZjWC1FZGtpWDhCQ3hUMkJjT0JScVllek1qOTUyRy1IMTJ3eDhKYklDYjVVbHFLZy9leGVj"),urlUcapan=atob("aHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J4QVFGUnJkNWtBWWVHdkxpcnFhejBZazlBcDM2X1VaRmVwWDc1QWtfRkFqVkp1YmJvY1ZuNGVlUUlJREswTHpKaDZFZy9leGVj"),bulanAngka=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];function launch(){for(var e=["assets/img/main-1.jpg","assets/img/main-2.jpg","assets/img/slide-1.jpg","assets/img/slide-2.jpg","assets/img/slide-3.jpg","assets/img/slide-4.jpg","assets/img/slide-5.jpg","assets/img/qr-code.svg","https://maumantenan.com/tema/enggal/assets/img/pattern.svg","https://maumantenan.com/tema/enggal/assets/img/decoration.svg","https://maumantenan.com/tema/enggal/assets/img/route.svg","https://maumantenan.com/tema/enggal/assets/img/scan.svg"],a=[],t=0;t<e.length;t++)!function(e,a){var t=new Image;t.onload=function(){a.resolve()},t.src=e}(e[t],a[t]=$.Deferred());$.when.apply($,a).done(function(){$(".preload").fadeOut();let e=window.location.href;if(e.indexOf("?")>-1){let a=e.split("?");decryptURL=atob(a[1]),!(decryptURL.indexOf("1!")>-1||decryptURL.indexOf("2!")>-1)||"MS"!=a[1].substring(0,2)&&"Mi"!=a[1].substring(0,2)?publishEnd():localStorage.getItem(md5security)==md5?($("body").attr("data-from",localStorage.getItem(md5account)),loadInvitation()):new Date>=datePublishEnd?publishEnd():new Date>=datePublishStart&&new Date<datePublishEnd?loadInvitation():loadWelcome()}else publishEnd()})}function guestInvite(e){let a=e.split("?");if(e.indexOf("?")>-1){let e=atob(a[1]);if((e.indexOf("1!")>-1||e.indexOf("2!")>-1)&&("MS"==a[1].substring(0,2)||"Mi"==a[1].substring(0,2)))if(e.indexOf("@")>-1&&e.indexOf(":")>-1&&e.indexOf("#")>-1){let a=e.split("!");guest1=a[1].split("@"),guest2=guest1[1].split(":"),guest3=guest2[1].split("#"),guest4=guest3[1];let t=a[0];name=guest1[0].split("+").join(" ").replace("%27","'").replace("%26","&"),address=guest2[0].split("+").join(" ").replace("%27","'").replace("%26","&"),from=guest3[0],session=guest4[0],$("body").attr("data-event",t).attr("data-from",from).attr("data-session",session),$(".guest-name").html(name),$(".guest-address").html(address),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}else if(e.indexOf("@")>-1&&e.indexOf("#")>-1){let a=e.split("!");guest1=a[1].split("@"),guest2=guest1[1].split("#"),guest3=guest2[1];let t=a[0];name=guest1[0].split("+").join(" ").replace("%27","'").replace("%26","&"),address=guest2[0].split("+").join(" ").replace("%27","'").replace("%26","&"),session=guest3[0],$("body").attr("data-event",t).attr("data-session",session),$(".guest-name").html(name),$(".guest-address").html(address),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}else if(e.indexOf("@")>-1&&e.indexOf(":")>-1){let a=e.split("!");guest1=a[1].split("@"),guest2=guest1[1].split(":"),guest3=guest2[1];let t=a[0];name=guest1[0].split("+").join(" ").replace("%27","'").replace("%26","&"),address=guest2[0].split("+").join(" ").replace("%27","'").replace("%26","&"),from=guest3[0],$("body").attr("data-event",t).attr("data-from",from),$(".guest-name").html(name),$(".guest-address").html(address),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}else if(e.indexOf(":")>-1&&e.indexOf("#")>-1){let a=e.split("!");guest1=a[1].split(":"),guest2=guest1[1].split("#"),guest3=guest2[1];let t=a[0];name=guest1[0].split("+").join(" ").replace("%27","'").replace("%26","&"),from=guest2[0],session=guest3[0],$("body").attr("data-event",t).attr("data-from",from).attr("data-from",session),$(".guest-name").html(name),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}else if(e.indexOf(":")>-1){let a=e.split("!");guest1=a[1].split(":"),guest2=guest1[1];let t=a[0];name=guest1[0].split("+").join(" ").replace("%27","'").replace("%26","&"),from=guest2[0],$("body").attr("data-event",t).attr("data-from",from),$(".guest-name").html(name),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}else if(e.indexOf("#")>-1){let a=e.split("!");guest1=a[1].split("#"),guest2=guest1[1];let t=a[0];name=guest1[0].split("+").join(" ").replace("%27","'").replace("%26","&"),session=guest2[0],$("body").attr("data-event",t).attr("data-session",session),$(".guest-name").html(name),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}else{let a=e.split("!");event=a[0],name=a[1].split("+").join(" ").replace("%27","'").replace("%26","&"),$("body").attr("data-event",event),$(".guest-name").html(name),$("#beriUcapan-2").each(function(){$(this).val(name),$(this).closest(".form-group").hide()})}}else $(".guest").addClass("d-none")}$.ajax({type:"GET",url:shUrl+"Undangan",success:function(e){let a=$.csv.toArrays(e);$(a).each(function(e,a){let t=a[1];acara1jam=a[2],acara2s=a[3].split(" "),acara2=acara2s[2]+" "+acara2s[3],acara2tanggal=a[3],acara2jam=a[4],acara3s=a[5].split(" "),acara3=acara3s[2]+" "+acara3s[3],acara3tanggal=a[5],acara3jam=a[6],acara2sesi1=a[7],acara2sesi2=a[8],acara2sesi3=a[9],acara2sesi4=a[10],acara2sesi5=a[11],acara3sesi1=a[12],acara3sesi2=a[13],acara3sesi3=a[14],acara3sesi4=a[15],acara3sesi5=a[16];const s=String(acara2s[1]).padStart(2,"0")+" &centerdot; "+String(bulanAngka.indexOf(acara2s[2])+1).padStart(2,"0")+" &centerdot; "+acara2s[3],n=String(acara3s[1]).padStart(2,"0")+" &centerdot; "+String(bulanAngka.indexOf(acara3s[2])+1).padStart(2,"0")+" &centerdot; "+acara3s[3];1==$("body").data("event")?$(".date-event").html(s):2==$("body").data("event")?$(".date-event").html(n):$(".date-event").addClass("d-none");const i=t,o="Pukul "+acara1jam;$(".title-event-1").html("Akad Nikah"),$(".date-event-1").html(i),$(".time-event-1").html(o),$(".place-event-1").html("Bertempat di Kediaman Mempelai Putri<br>Perum Kwayangan<br>Jl. Nakula Kedungwuni Pekalongan"),$(".map-event-1").attr("href","https://goo.gl/maps/RoUTzBvW1bsvK82a9");const l="Kedungwuni, "+acara2,r=acara2tanggal,d="Pukul "+acara2jam,c="Pukul "+acara2sesi1,m="Pukul "+acara2sesi2,u="Pukul "+acara2sesi3,g="Pukul "+acara2sesi4,p="Pukul "+acara2sesi5;$(".title-event-2").html("Resepsi Pernikahan"),$(".intro-event-2").html(l),$(".date-event-2").html(r),$(".time-event-2").html(d),$(".place-event-2").html("Bertempat di Gedung Stikes Muhammadiyah Pekajangan Pekalongan<br>Jl. Raya Ambokembang, Kedungwuni, Pekalongan"),$(".map-event-2").attr("href","https://goo.gl/maps/JftS65ksY6mKk1f16"),$("#acara-2 .session-1").html(c),$("#acara-2 .session-2").html(m),$("#acara-2 .session-3").html(u),$("#acara-2 .session-4").html(g),$("#acara-2 .session-5").html(p);const h="Buaran, "+acara3,f=acara3tanggal,b="Pukul "+acara3jam,v="Pukul "+acara3sesi1,k="Pukul "+acara3sesi2,y="Pukul "+acara3sesi3,C="Pukul "+acara3sesi4,w="Pukul "+acara3sesi5;$(".title-event-3").html("Resepsi Ngunduh Mantu"),$(".intro-event-3").html(h),$(".date-event-3").html(f),$(".time-event-3").html(b),$(".place-event-3").html("Bertempat di Kediaman Mempelai Putra<br>Perum Buaran Indah, Jenggot, Pekalongan"),$(".map-event-3").attr("href","https://goo.gl/maps/"),$("#acara-3 .session-1").html(v),$("#acara-3 .session-2").html(k),$("#acara-3 .session-3").html(y),$("#acara-3 .session-4").html(C),$("#acara-3 .session-5").html(w);$(".name-person-1").html("Lusiana Dwi Jayanti"),$(".nick-person-1").html("Lusi"),$(".father-person-1").html("Bejo Waryono (Alm)"),$(".mother-person-1").html("Ekowati"),$(".place-person-1").html("Perum Kwayangan, Kedungwuni, Pekalongan"),$(".gift1-person-1").html("5053003335"),$(".gift1-person-1b").html("Bank Jateng"),$(".gift1-person-1c").html("113"),$(".gift2-person-1").html("1147992750"),$(".gift2-person-1b").html("BNI"),$(".gift2-person-1c").html("009"),$(".gift3-person-1").html("<b>Lusiana Dwi Jayanti</b><br>Perum Kwayangan Jl. Nakula No. 13 Kec. Kedungwuni Kab. Pekalongan 51173");$(".name-person-2").html("Hanang Wijayanto"),$(".nick-person-2").html("Hanang"),$(".father-person-2").html("Muchamad Wibisono"),$(".mother-person-2").html("Sri Supadmi"),$(".place-person-2").html("Perum Buaran Indah, Jenggot, Pekalongan"),$(".gift1-person-2").html("5053002886"),$(".gift1-person-2b").html("Bank Jateng"),$(".gift1-person-2c").html("113"),$(".gift2-person-2").html("7455046470"),$(".gift2-person-2b").html("BSI"),$(".gift2-person-2c").html("451"),$(".gift3-person-2").html("<b>Hanang Wijayanto</b><br>Perum Buaran Indah Blok B No. 181 RT 04 / RW 06 Jenggot Kec. Pekalongan Selatan Kota Pekalongan 51133"),launch()})},error:function(){console.log("Maaf, silakan muat ulang halaman.")}}),guestInvite(window.location.href);let audio=document.createElement("audio");function detailInvitation(){$("body").data("event");when=$("body").data("session"),1==when?($('[class^="time-event"]:not(.time-event-1)').addClass("d-none"),$(".session-1").removeClass("d-none"),$(".session-2").addClass("d-none"),$(".session-3").addClass("d-none"),$(".session-4").addClass("d-none"),$(".session-5").addClass("d-none")):2==when?($('[class^="time-event"]:not(.time-event-1)').addClass("d-none"),$(".session-1").addClass("d-none"),$(".session-2").removeClass("d-none"),$(".session-3").addClass("d-none"),$(".session-4").addClass("d-none"),$(".session-5").addClass("d-none")):3==when?($('[class^="time-event"]:not(.time-event-1)').addClass("d-none"),$(".session-1").addClass("d-none"),$(".session-2").addClass("d-none"),$(".session-3").removeClass("d-none"),$(".session-4").addClass("d-none"),$(".session-5").addClass("d-none")):4==when?($('[class^="time-event"]:not(.time-event-1)').addClass("d-none"),$(".session-1").addClass("d-none"),$(".session-2").addClass("d-none"),$(".session-3").addClass("d-none"),$(".session-4").removeClass("d-none"),$(".session-5").addClass("d-none")):5==when?($('[class^="time-event"]:not(.time-event-1)').addClass("d-none"),$(".session-1").addClass("d-none"),$(".session-2").addClass("d-none"),$(".session-3").addClass("d-none"),$(".session-4").addClass("d-none"),$(".session-5").removeClass("d-none")):($(".session-1").addClass("d-none"),$(".session-2").addClass("d-none"),$(".session-3").addClass("d-none"),$(".session-4").addClass("d-none"),$(".session-5").addClass("d-none"))}function loadWelcome(){$("body").addClass("overflow-hidden"),$("#welcome").modal("show")}function loadInvitation(){detailInvitation(),$("body").addClass("overflow-hidden"),$("#open").modal("show").addClass("has-guest"),setTimeout(()=>{$("main").removeClass("opacity-0")},1e3)}function openInvitation(e,a){$(e).closest(".modal").modal("hide"),audio.paused&&$(".backsound").click(),$("body:not(.ready)").length>0&&$(a).modal("show"),$("body.opened").length<1&&$("body").addClass("opened"),$(e).blur(),setTimeout(()=>{$(a).modal("hide")},5e3)}function publishStart(){$("body.opened").length<1&&($("#welcome").modal("hide"),loadInvitation())}function publishEnd(){$("#thanks").modal("show")}audio.src="https://maumantenan.com/tema/enggal/assets/audio/audio.mp3",audio.volume=1,audio.autoPlay=!1,audio.preLoad=!0,audio.controls=!0,audio.loop=!0,$(".play-audio").click(function(){audio.play()}),$(".countdown-publish").each(function(){$(this).countdown($.extend({until:datePublishStart,format:"ODHMS",timezone:7,onExpiry:publishStart},$.countdown.regionalOptions.id))});let checkCDevent2=setInterval(()=>{if($(".date-event-2").text().length>0){let e=$(".date-event-2").text().split(" ");event2ct=$(".time-event-2").text().split(" "),event2cts=event2ct[1].split(":"),$(".countdown-event-2").each(function(){$(this).countdown($.extend({until:new Date(e[3],bulanAngka.indexOf(e[2]),e[1],Number(event2cts[0]),Number(event2cts[1]),0),format:"ODHMS",timezone:7},$.countdown.regionalOptions.id))}),clearInterval(checkCDevent2)}},1e3);function copyToClipboard(e){var a=$("<textarea>");brRegex=/<br\s*[\/]?>/gi,$("body").append(a),a.val($(e).html().replace("<b>","").replace("</b>","").replace(brRegex,"\r\n")).select(),document.execCommand("copy"),a.remove(),$(e).closest("div").find(".btn-primary").toggleClass("btn-primary btn-success"),$(e).closest("div").find(".btn-caption").toggleClass("d-flex d-none"),setTimeout(function(){$(e).closest("div").find(".btn-success").toggleClass("btn-primary btn-success"),$(e).closest("div").find(".btn-caption").toggleClass("d-flex d-none")},3e3)}function giftForm(e){$(e+" #beriBingkisan-1").val($("body").data("from")),$(e+" #beriBingkisan-2").val($("#open .guest-name").text()),$(e+" #beriBingkisan-3").val($("#open .guest-address").text()),$(e+" #beriBingkisan-4a,"+e+" #beriBingkisan-4b").on("change",function(){let a=$(e+" #beriBingkisan-4a").val();value2=$(e+" #beriBingkisan-4b").val(),$(e+" #beriBingkisan-4").val(a+" - "+value2)})}$("#open").on("shown.bs.modal",function(e){setTimeout(function(){$("body").removeClass("overflow-hidden")},250)}),AOS.init({once:!0}),giftForm('[name="beriBingkisan"]');const formBingkisan=document.forms.beriBingkisan;function arrayToCongrats(e){$(e).each(function(e,a){let t=a[0];splitTanggal=t.split("/"),t=Number(splitTanggal[0])+" "+["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"][Number(splitTanggal[1])-1]+" "+splitTanggal[2],nama=a[1],ucapan=a[2],$('<div class="card mx-3 border-0 rounded-3 shadow">\n\t\t\t\t<div class="card-body">\n\t\t\t\t\t<p class="mb-0">'+ucapan+'</p>\n\t\t\t\t\t<div class="font-weight-bold text-theme-1 text-uppercase mt-3">'+nama+'</div>\n\t\t\t\t\t<small class="opacity-5">'+t+"</small>\n\t\t\t\t</div>\n\t\t\t</div>").prependTo("#dataUcapan")})}function slideUcapan(){const e=document.querySelector("#ucapan .overflow-auto");let a,t,s=!1;e.addEventListener("mousedown",n=>{s=!0,e.classList.add("active"),a=n.pageX-e.offsetLeft,t=e.scrollLeft}),e.addEventListener("mouseleave",()=>{s=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{s=!1,e.classList.remove("active")}),e.addEventListener("mousemove",n=>{if(!s)return;n.preventDefault();const i=3*(n.pageX-e.offsetLeft-a);e.scrollLeft=t-i})}function congratsForm(e){$(e+" #beriUcapan-1").val($("body").data("from")),$(e+" #beriUcapan-2").val($("#open .guest-name").text()),$("#ucapan button").click(function(){setTimeout(()=>{$(e+" #beriUcapan-3").each(function(){this.setAttribute("style","height:"+this.scrollHeight+"px")})},200)}),$(e+" #beriUcapan-3").on("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}),$(window).resize(function(){$(e+" #beriUcapan-3").each(function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"})})}formBingkisan.addEventListener("submit",e=>{e.preventDefault(),$('[name="beriBingkisan"] .status').addClass("show"),fetch(urlBingkisan,{method:"post",body:new FormData(formBingkisan)}).then(e=>{$('[name="beriBingkisan"] .status > *').addClass("d-none"),$('[name="beriBingkisan"] .status .success').removeClass("d-none"),setTimeout(()=>{$("#gift").modal("hide")},2e3),setTimeout(()=>{$('[name="beriBingkisan"] .status').removeClass("show"),$('[name="beriBingkisan"] .status > *').addClass("d-none"),$('[name="beriBingkisan"] .status .loading').removeClass("d-none"),formBingkisan.querySelector("#beriBingkisan-4").value="",formBingkisan.querySelector("#beriBingkisan-4a").value="",formBingkisan.querySelector("#beriBingkisan-4b").value="",formBingkisan.querySelector("#beriBingkisan-5").value="",formBingkisan.querySelector("#beriBingkisan-6").value="",formBingkisan.querySelector("#beriBingkisan-7").value=""},3e3)}).catch(e=>{$('[name="beriBingkisan"] .status > *').addClass("d-none"),$('[name="beriBingkisan"] .status .failed').removeClass("d-none"),setTimeout(()=>{$('[name="beriBingkisan"] .status').removeClass("show"),$('[name="beriBingkisan"] .status > *').addClass("d-none")},2e3),setTimeout(()=>{$('[name="beriBingkisan"] .status .loading').removeClass("d-none")},2500)})}),$.ajax({type:"GET",url:shUrl+"Ucapan",success:function(e){let a=$.csv.toArrays(e);$("#dataUcapan").append(arrayToCongrats(a)),setTimeout(function(){$("#dataUcapan .card:last-child").remove()},1e3)},error:function(){console.log("Maaf, silakan muat ulang halaman.")}}),slideUcapan(),congratsForm('[name="beriUcapan"]');const formUcapan=document.forms.beriUcapan;formUcapan.addEventListener("submit",e=>{e.preventDefault(),$('[name="beriUcapan"] .status').addClass("show"),fetch(urlUcapan,{method:"post",body:new FormData(formUcapan)}).then(e=>{let a=formUcapan.querySelector('[name="Nama"]').value;message=formUcapan.querySelector('[name="Ucapan"]').value,today=new Date,stamp=today.getDate()+" "+["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"][today.getMonth()]+" "+today.getFullYear()+" - Baru Saja",$('<div class="card mx-3 border-0 rounded-3 shadow">\n\t\t\t\t<div class="card-body">\n\t\t\t\t\t<p class="mb-0">'+message+'</p>\n\t\t\t\t\t<div class="font-weight-bold text-theme-1 text-uppercase mt-3">'+a+'</div>\n\t\t\t\t\t<small class="opacity-5">'+stamp+"</small>\n\t\t\t\t</div>\n\t\t\t</div>").prependTo("#dataUcapan"),$('[name="beriUcapan"] .status > *').addClass("d-none"),$('[name="beriUcapan"] .status .success').removeClass("d-none"),setTimeout(()=>{$('[name="beriUcapan"] .status').removeClass("show"),$('[name="beriUcapan"] .status > *').addClass("d-none"),$('[name="beriUcapan"] .status .loading').removeClass("d-none"),formUcapan.querySelector("#beriUcapan-3").value=""},3e3)}).catch(e=>{$('[name="beriUcapan"] .status > *').addClass("d-none"),$('[name="beriUcapan"] .status .failed').removeClass("d-none"),setTimeout(()=>{$('[name="beriUcapan"] .status').removeClass("show"),$('[name="beriUcapan"] .status > *').addClass("d-none")},2e3),setTimeout(()=>{$('[name="beriUcapan"] .status .loading').removeClass("d-none")},2500)})}),window.onbeforeunload=function(){$("body").remove(),$(window).scrollTop(0)},$(document).on("contextmenu",function(){return!1}),$(document).keydown(function(e){let a=e.target.tagName.toLowerCase();if("input"!=a&&"textarea"!=a&&(e.ctrlKey||e.metaKey)&&(65==e.keyCode||83==e.keyCode))return!1});