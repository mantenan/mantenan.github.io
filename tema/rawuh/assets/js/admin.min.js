/*
 * Maumantenan
 * https://maumantenan.com
 * Digital Wedding Invitation
 * Copyright (c) 2020-2021
 */
const urlView="/tema/rawuh/",urlLogout="/tema/rawuh/login";function navbarAdmin(){window.matchMedia("(max-width: 767px)").matches&&$("#sidemenu.show").length>0&&$(".nav-pills a").click(function(){$(".navbar-toggler").click()})}navbarAdmin(),$(window).resize(navbarAdmin),$(document).click(function(t){let a=t.target;if(a=a.id,["pills-0-tab","pills-1-tab","pills-2-tab","pills-3-tab","pills-4-tab","pills-5-tab","pills-6-tab","pills-7-tab","pills-8-tab"].indexOf(a)>-1){let t=$('#pills-1 [aria-expanded="true"]');addButton2=$('#pills-2 [aria-expanded="true"]'),t&&t.click(),addButton2&&addButton2.click(),$("html, body").animate({scrollTop:$("html, body").offset().top},100)}});var gsStart="https://script.google.com/macros/s/";gsEnd="/exec",shUrl="https://docs.google.com/spreadsheets/d/1eLzBeZf-s2gOu0GEboeSbdwuqCmM4IVl_JzFCK87Bjk/gviz/tq?tqx=out:csv&sheet=";var loadingDb='<div class="loading text-center m-4 p-4"><div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div></div>';function alertForm(t,a){$('<div class="alert alert-'+t+' alert-dismissible fade rounded pr-5" role="alert">\n\t\t\t<span class="alert-message">'+a+'</span>\n\t\t\t<button type="button" class="close py-2 px-3" data-dismiss="alert" aria-label="Close">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="17" height="29" fill="currentColor">\n\t\t\t\t\t<path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>').appendTo($("#alert")).delay(100).queue(function(){$(this).toggleClass("show"),setTimeout(()=>{$(this).alert("close")},5e3),setTimeout(()=>{$(this).remove()},7e3)})}function dbEmpty(t){let a=$(t).closest(".tab-pane").find(".no-data");$(t+"> *").length>1?a.remove():a.show()}function dbCheckRemove(t){$(t).each(function(){"Terhapus"==$(this).data("status")&&$(t+'[data-id="'+$(this).data("id")+'"]').each(function(){$(this).remove()})})}function dbModalRemove(t){$("#dbRemove").each(function(){let a=$(this);target=t.closest(".card-list").prev().prev().attr("id"),card=t.closest(".card").data("id"),a.attr("data-form","#"+target),a.attr("data-id",card),a.modal("show"),a.on("hidden.bs.modal",function(t){$("#"+target+" form.sr-only").trigger("reset"),a.removeAttr("data-form"),a.removeAttr("data-id")}),$("#"+target+' form[name*="Hapus"]').each(function(){let a=$(this);item=t.closest(".card"),itemTitle=item.find("h5"),itemAddress=itemTitle.next(),itemSession=item.find(".session"),itemID=item.data("id"),itemFrom=item.data("from"),itemStatus="Terhapus",a.find('.form-control[id*="-1"]').val(itemTitle.text()),a.find('.form-control[id*="-2"]').val(itemAddress.text()),a.find('.form-control[id*="-3"]').val(itemSession.text()),a.find('.form-control[id*="-4"]').val(itemID),a.find('.form-control[id*="-5"]').val(itemFrom),a.find('.form-control[id*="-6"]').val(itemStatus)})})}function dbRemove(t){let a=document.querySelector("#dbRemove");form=a.getAttribute("data-form"),form+=" form.sr-only",id=a.getAttribute("data-id"),t.classList.add("d-none"),$(loadingRemove).appendTo(t.closest("div")),form.indexOf("1")>-1&&$(form+' [type="submit"]').click(),form.indexOf("2")>-1&&$(form+' [type="submit"]').click()}function dbRemoveList(t,a,e){$(t+" > "+a).each(function(){let t=$(this);id=document.querySelector("#dbRemove").getAttribute("data-id"),t.data("id")==id&&($(e).html($(e).html()-1),t.remove())})}function guestFrom(){let t=localStorage.getItem("login account");$("#formTamuAcara1-5").val(t),$("#formTamuAcara2-5").val(t)}function generateID(t){let a=(new Date).toLocaleString();id=a.split(" "),id=id[0].split("/").join("").split(",").join("")+id[1].split(":").join(""),$(t).val(id)}function sessionGuest(){$(".session").each(function(){let t=$(this);"0"==t.html()?(t.closest("div").addClass("d-none"),t.closest(".card-body").removeClass("pr-5")):"1"==t.html()?t.closest("div").addClass("bg-purple text-white"):"2"==t.html()?t.closest("div").addClass("bg-pink text-white"):"3"==t.html()?t.closest("div").addClass("bg-orange text-white"):"4"==t.html()?t.closest("div").addClass("bg-primary text-white"):t.closest("div").addClass("bg-info text-white")})}function formTamuAcara1(){urlTamuAcara1=gsStart+"AKfycbzfrvH5CKfDKIc_FrIkyG3_0Lz7Clx4zpWU4_i6Q5R_z2mhKkTo5GUFVMGqh0nTiW_M"+gsEnd,formTamuAcara1=document.forms.formTamuAcara1,formSubmitTamuAcara1=formTamuAcara1.querySelector('[type="submit"]'),formTamuAcara1.querySelectorAll("input").forEach(t=>{t.addEventListener("keydown",t=>{/[<>`@:#&+]/g.test(t.key)&&t.preventDefault()})}),formTamuAcara1.addEventListener("submit",t=>{t.preventDefault(),formSubmitTamuAcara1.classList.add("d-none"),$(loadingSubmit).appendTo(formTamuAcara1.querySelector(".bg-white")),fetch(urlTamuAcara1,{method:"post",body:new FormData(formTamuAcara1)}).then(t=>{alertForm("success","Tamu berhasil ditambahkan"),$(loadingSubmitButton).remove(),formSubmitTamuAcara1.classList.remove("d-none"),formTamuAcara1.reset(),$(listTamuAcara1+"> .card").remove(),$(loadingDb).appendTo($(listTamuAcara1)),dbTamuAcara1()}).catch(t=>{alertForm("danger","Tamu gagal ditambahkan")})})}function formHapusTamuAcara1(){let t=document.forms.formHapusTamuAcara1;t.addEventListener("submit",a=>{a.preventDefault(),fetch(urlTamuAcara1,{method:"post",body:new FormData(t)}).then(a=>{alertForm("success","Tamu berhasil dihapus"),dbRemoveList(listTamuAcara1,".card",totalTamuAcara1),$("#dbRemove").modal("hide"),$(loadingRemoveButton).prev().removeClass("d-none"),$(loadingRemoveButton).remove(),t.reset()}).catch(t=>{alertForm("danger","Tamu gagal dihapus")})})}function dbTamuAcara1(){let t=shUrl+"Acara+1";listTamuAcara1="#dataTamuAcara1",totalTamuAcara1=".totalTamuAcara1",$.ajax({type:"get",url:t,success:function(t){let a=$.csv.toArrays(t);$(listTamuAcara1).append(function(t,a){$(t).each(function(t,e){let n=e[1];alamat=e[2],sesi=e[3],id=e[4],dari=e[5],status=e[6],dariSiapa=$(".navbar-brand > *:last-child").text().split(" & "),"1"==dari&&(dariSiapa=dariSiapa[0]),"2"==dari&&(dariSiapa=dariSiapa[1]),$('<div class="card rounded border-0 bg-adaptive-1 shadow mb-3" data-id="'+id+'" data-from="'+dari+'" data-status="'+status+'">\n\t\t\t\t\t<div class="card-body pr-5 mr-5">\n\t\t\t\t\t\t<h5 class="font-weight-bold mb-0">'+n+'</h5>\n\t\t\t\t\t\t<span class="opacity-5 mb-n1">'+alamat+'</span>\n\t\t\t\t\t\t<div class="mt-2 chat-guest">\n\t\t\t\t\t\t\t<a class="btn btn-success rounded-pill px-2" rel="noopener" target="_blank">\n\t\t\t\t\t\t\t\t<div class="d-flex align-items-center">\n\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">\n\t\t\t\t\t\t\t\t\t\t<path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.36 3.45 16.86L2.05 22L7.3 20.62C8.75 21.41 10.38 21.83 12.04 21.83C17.5 21.83 21.95 17.38 21.95 11.92C21.95 9.27 20.92 6.78 19.05 4.91C17.18 3.03 14.69 2 12.04 2M12.05 3.67C14.25 3.67 16.31 4.53 17.87 6.09C19.42 7.65 20.28 9.72 20.28 11.92C20.28 16.46 16.58 20.15 12.04 20.15C10.56 20.15 9.11 19.76 7.85 19L7.55 18.83L4.43 19.65L5.26 16.61L5.06 16.29C4.24 15 3.8 13.47 3.8 11.91C3.81 7.37 7.5 3.67 12.05 3.67M8.53 7.33C8.37 7.33 8.1 7.39 7.87 7.64C7.65 7.89 7 8.5 7 9.71C7 10.93 7.89 12.1 8 12.27C8.14 12.44 9.76 14.94 12.25 16C12.84 16.27 13.3 16.42 13.66 16.53C14.25 16.72 14.79 16.69 15.22 16.63C15.7 16.56 16.68 16.03 16.89 15.45C17.1 14.87 17.1 14.38 17.04 14.27C16.97 14.17 16.81 14.11 16.56 14C16.31 13.86 15.09 13.26 14.87 13.18C14.64 13.1 14.5 13.06 14.31 13.3C14.15 13.55 13.67 14.11 13.53 14.27C13.38 14.44 13.24 14.46 13 14.34C12.74 14.21 11.94 13.95 11 13.11C10.26 12.45 9.77 11.64 9.62 11.39C9.5 11.15 9.61 11 9.73 10.89C9.84 10.78 10 10.6 10.1 10.45C10.23 10.31 10.27 10.2 10.35 10.04C10.43 9.87 10.39 9.73 10.33 9.61C10.27 9.5 9.77 8.26 9.56 7.77C9.36 7.29 9.16 7.35 9 7.34C8.86 7.34 8.7 7.33 8.53 7.33Z"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<span class="lh-1 mx-1">Kirim Undangan</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="position-absolute top right m-2 d-flex align-items-center">\n\t\t\t\t\t\t\t<div class="text-uppercase rounded lh-1 py-1 px-2">\n\t\t\t\t\t\t\t\t<small>Sesi </small><small class="session">'+sesi+'</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="dropdown">\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-clear text-adaptive px-1 ml-1 dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">\n\t\t\t\t\t\t\t\t\t\t<path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<span class="sr-only">Opsi</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div class="dropdown-menu dropdown-menu-right rounded shadow border-0 py-0 mr-2">\n\t\t\t\t\t\t\t\t\t<span class="dropdown-item cursor-pointer py-2 px-3" onclick="dbModalRemove($(this))">Hapus</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="position-absolute bottom right py-1 pr-1 m-2" data-toggle="tooltip" data-placement="left" title="'+dariSiapa+'">\n\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12" fill="currentColor" class="m-1">\n\t\t\t\t\t\t\t\t<circle cx="8" cy="8" r="4"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>').prependTo(a)})}(a,listTamuAcara1)),$(listTamuAcara1).find(".loading").remove(),$(listTamuAcara1).find(".card:last-of-type").remove(),guestFrom(),sessionGuest(),dbCheckRemove(listTamuAcara1+" .card"),$(totalTamuAcara1).html($(listTamuAcara1+"> .card").length),dbEmpty(listTamuAcara1),chatGuest()},error:function(){$(listTamuAcara1).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbTamuAcara1();$(\''+listTamuAcara1+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listTamuAcara1)}})}function findTamuAcara1(){filterTamuAcara1=".filterTamuAcara1",$("#findTamuAcara1 select").on("change",function(){let t=$(this).val();$(listTamuAcara1+" > .card").each(function(){let a=$(this);t!=a.data("from")?a.addClass("d-none"):a.removeClass("d-none"),0==t&&a.removeClass("d-none")}),$(listTamuAcara1+" > .card:not(.d-none):visible").length<1?$("#findTamuAcara1 .alert").show():$("#findTamuAcara1 .alert").hide(),""!=t?$(filterTamuAcara1).html($(listTamuAcara1+" > .card:not(.d-none):visible").length+" dari "):$(filterTamuAcara1).html("")}),$("#findTamuAcara1 input").on("keyup",function(){let t=$(this).val();keywords=new RegExp(t,"i"),$(listTamuAcara1+" > .card").each(function(){let t=$(this);listTitle=t.find("h5").text(),listAddress=t.find("h5").next().text(),listSession=t.find(".session").text(),listKeywords=listTitle+listAddress+listSession,!listKeywords.search(keywords)>=0&&t.hide(),listKeywords.search(keywords)>=0&&t.show()}),$(listTamuAcara1+" > .card:not(.d-none):visible").length<1?$("#findTamuAcara1 .alert").show():$("#findTamuAcara1 .alert").hide(),t.length>0?$('#findTamuAcara1 form [type="reset"]').show():$('#findTamuAcara1 form [type="reset"]').hide(),""!=t?$(filterTamuAcara1).html($(listTamuAcara1+" > .card:not(.d-none):visible").length+" dari "):$(filterTamuAcara1).html("")}),$("#findTamuAcara1 form").on("reset",function(t){$(t.target).find('[type="reset"]').hide(),$(listTamuAcara1+" > .card").show(),$("#findTamuAcara1 .alert").hide(),$(filterTamuAcara1).html("")}),$("#findTamuAcara1 form").on("submit",function(t){t.preventDefault()})}function formTamuAcara2(){urlTamuAcara2=gsStart+"AKfycbygrmUFYvQDrnn5UogHKPNJMF_HmCVarl2Zb0wS6W6XsKTPbh4XdBTOVCCMJguQxoHw"+gsEnd,formTamuAcara2=document.forms.formTamuAcara2,formSubmitTamuAcara2=formTamuAcara2.querySelector('[type="submit"]'),formTamuAcara2.querySelectorAll("input").forEach(t=>{t.addEventListener("keydown",t=>{/[<>`@:#&+]/g.test(t.key)&&t.preventDefault()})}),formTamuAcara2.addEventListener("submit",t=>{t.preventDefault(),formSubmitTamuAcara2.classList.add("d-none"),$(loadingSubmit).appendTo(formTamuAcara2.querySelector(".bg-white")),fetch(urlTamuAcara2,{method:"post",body:new FormData(formTamuAcara2)}).then(t=>{alertForm("success","Tamu berhasil ditambahkan"),$(loadingSubmitButton).remove(),formSubmitTamuAcara2.classList.remove("d-none"),formTamuAcara2.reset(),$(listTamuAcara2+"> .card").remove(),$(loadingDb).appendTo($(listTamuAcara2)),dbTamuAcara2()}).catch(t=>{alertForm("danger","Tamu gagal ditambahkan")})})}function formHapusTamuAcara2(){let t=document.forms.formHapusTamuAcara2;t.addEventListener("submit",a=>{a.preventDefault(),fetch(urlTamuAcara2,{method:"post",body:new FormData(t)}).then(a=>{alertForm("success","Tamu berhasil dihapus"),dbRemoveList(listTamuAcara2,".card",totalTamuAcara2),$("#dbRemove").modal("hide"),$(loadingRemoveButton).prev().removeClass("d-none"),$(loadingRemoveButton).remove(),t.reset()}).catch(t=>{alertForm("danger","Tamu gagal dihapus")})})}function dbTamuAcara2(){let t=shUrl+"Acara+2";listTamuAcara2="#dataTamuAcara2",totalTamuAcara2=".totalTamuAcara2",$.ajax({type:"get",url:t,success:function(t){let a=$.csv.toArrays(t);$(listTamuAcara2).append(function(t,a){$(t).each(function(t,e){let n=e[1];alamat=e[2],sesi=e[3],id=e[4],dari=e[5],status=e[6],dariSiapa=$(".navbar-brand > *:last-child").text().split(" & "),"1"==dari&&(dariSiapa=dariSiapa[0]),"2"==dari&&(dariSiapa=dariSiapa[1]),$('<div class="card rounded border-0 bg-adaptive-1 shadow mb-3" data-id="'+id+'" data-from="'+dari+'" data-status="'+status+'">\n\t\t\t\t\t<div class="card-body pr-5 mr-5">\n\t\t\t\t\t\t<h5 class="font-weight-bold mb-0">'+n+'</h5>\n\t\t\t\t\t\t<span class="opacity-5 mb-n1">'+alamat+'</span>\n\t\t\t\t\t\t<div class="mt-2 chat-guest">\n\t\t\t\t\t\t\t<a class="btn btn-success rounded-pill px-2" rel="noopener" target="_blank">\n\t\t\t\t\t\t\t\t<div class="d-flex align-items-center">\n\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">\n\t\t\t\t\t\t\t\t\t\t<path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.36 3.45 16.86L2.05 22L7.3 20.62C8.75 21.41 10.38 21.83 12.04 21.83C17.5 21.83 21.95 17.38 21.95 11.92C21.95 9.27 20.92 6.78 19.05 4.91C17.18 3.03 14.69 2 12.04 2M12.05 3.67C14.25 3.67 16.31 4.53 17.87 6.09C19.42 7.65 20.28 9.72 20.28 11.92C20.28 16.46 16.58 20.15 12.04 20.15C10.56 20.15 9.11 19.76 7.85 19L7.55 18.83L4.43 19.65L5.26 16.61L5.06 16.29C4.24 15 3.8 13.47 3.8 11.91C3.81 7.37 7.5 3.67 12.05 3.67M8.53 7.33C8.37 7.33 8.1 7.39 7.87 7.64C7.65 7.89 7 8.5 7 9.71C7 10.93 7.89 12.1 8 12.27C8.14 12.44 9.76 14.94 12.25 16C12.84 16.27 13.3 16.42 13.66 16.53C14.25 16.72 14.79 16.69 15.22 16.63C15.7 16.56 16.68 16.03 16.89 15.45C17.1 14.87 17.1 14.38 17.04 14.27C16.97 14.17 16.81 14.11 16.56 14C16.31 13.86 15.09 13.26 14.87 13.18C14.64 13.1 14.5 13.06 14.31 13.3C14.15 13.55 13.67 14.11 13.53 14.27C13.38 14.44 13.24 14.46 13 14.34C12.74 14.21 11.94 13.95 11 13.11C10.26 12.45 9.77 11.64 9.62 11.39C9.5 11.15 9.61 11 9.73 10.89C9.84 10.78 10 10.6 10.1 10.45C10.23 10.31 10.27 10.2 10.35 10.04C10.43 9.87 10.39 9.73 10.33 9.61C10.27 9.5 9.77 8.26 9.56 7.77C9.36 7.29 9.16 7.35 9 7.34C8.86 7.34 8.7 7.33 8.53 7.33Z"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<span class="lh-1 mx-1">Kirim Undangan</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="position-absolute top right m-2 d-flex align-items-center">\n\t\t\t\t\t\t\t<div class="text-uppercase rounded lh-1 py-1 px-2">\n\t\t\t\t\t\t\t\t<small>Sesi </small><small class="session">'+sesi+'</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="dropdown">\n\t\t\t\t\t\t\t\t<button type="button" class="btn btn-clear text-adaptive px-1 ml-1 dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor">\n\t\t\t\t\t\t\t\t\t\t<path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<span class="sr-only">Opsi</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div class="dropdown-menu dropdown-menu-right rounded shadow border-0 py-0 mr-2">\n\t\t\t\t\t\t\t\t\t<span class="dropdown-item cursor-pointer py-2 px-3" onclick="dbModalRemove($(this))">Hapus</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="position-absolute bottom right py-1 pr-1 m-2" data-toggle="tooltip" data-placement="left" title="'+dariSiapa+'">\n\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12" fill="currentColor" class="m-1">\n\t\t\t\t\t\t\t\t<circle cx="8" cy="8" r="4"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>').prependTo(a)})}(a,listTamuAcara2)),$(listTamuAcara2).find(".loading").remove(),$(listTamuAcara2).find(".card:last-of-type").remove(),guestFrom(),sessionGuest(),dbCheckRemove(listTamuAcara2+" .card"),$(totalTamuAcara2).html($(listTamuAcara2+"> .card").length),dbEmpty(listTamuAcara2),chatGuest()},error:function(){$(listTamuAcara2).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbTamuAcara2();$(\''+listTamuAcara2+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listTamuAcara2)}})}function findTamuAcara2(){filterTamuAcara2=".filterTamuAcara2",$("#findTamuAcara2 select").on("change",function(){let t=$(this).val();$(listTamuAcara2+" > .card").each(function(){let a=$(this);t!=a.data("from")?a.addClass("d-none"):a.removeClass("d-none"),0==t&&a.removeClass("d-none")}),$(listTamuAcara2+" > .card:not(.d-none):visible").length<1?$("#findTamuAcara2 .alert").show():$("#findTamuAcara2 .alert").hide(),""!=t?$(filterTamuAcara2).html($(listTamuAcara2+" > .card:not(.d-none):visible").length+" dari "):$(filterTamuAcara2).html("")}),$("#findTamuAcara2 input").on("keyup",function(){let t=$(this).val();keywords=new RegExp(t,"i"),$(listTamuAcara2+" > .card").each(function(){let t=$(this);listTitle=t.find("h5").text(),listAddress=t.find("h5").next().text(),listSession=t.find(".session").text(),listKeywords=listTitle+listAddress+listSession,!listKeywords.search(keywords)>=0&&t.hide(),listKeywords.search(keywords)>=0&&t.show()}),$(listTamuAcara2+" > .card:not(.d-none):visible").length<1?$("#findTamuAcara2 .alert").show():$("#findTamuAcara2 .alert").hide(),t.length>0?$('#findTamuAcara2 form [type="reset"]').show():$('#findTamuAcara2 form [type="reset"]').hide(),""!=t?$(filterTamuAcara2).html($(listTamuAcara2+" > .card:not(.d-none):visible").length+" dari "):$(filterTamuAcara2).html("")}),$("#findTamuAcara2 form").on("reset",function(t){$(t.target).find('[type="reset"]').hide(),$(listTamuAcara2+" > .card").show(),$("#findTamuAcara2 .alert").hide(),$(filterTamuAcara2).html("")}),$("#findTamuAcara2 form").on("submit",function(t){t.preventDefault()})}function rsvpGuest(){$(".rsvp").each(function(){let t=$(this);"0"==t.html()&&t.closest("div").addClass("d-none")})}function dbKehadiran(){let t=shUrl+"Kehadiran";listKehadiran="#dataKehadiran",totalKehadiran=".totalKehadiran",$.ajax({type:"get",url:t,success:function(t){let a=$.csv.toArrays(t);$(listKehadiran).append(function(t,a){$(t).each(function(t,e){let n=e[1];alamat=e[2],sesi=e[3],hadir=e[4],dari=e[5],acaraApa="","1"==dari&&(acaraApa="Resepsi Pernikahan"),"2"==dari&&(acaraApa="Ngunduh Mantu"),$('<div class="card rounded border-0 bg-adaptive-1 shadow mb-3 pr-2" data-from="'+dari+'">\n\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t<div class="d-md-flex align-items-center">\n\t\t\t\t\t\t\t<div class="bg-overlay text-adaptive py-2 px-3 rounded text-md-center mb-3 mb-md-0 mr-md-3">\n\t\t\t\t\t\t\t\t<h3 class="font-weight-bold lh-1 mt-1 mb-0 d-inline-block d-md-block mr-1 mr-md-0 rsvp">'+hadir+'</h3>\n\t\t\t\t\t\t\t\t<small class="text-uppercase opacity-5">Orang</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="text-break">\n\t\t\t\t\t\t\t\t<h5 class="font-weight-bold mb-0">'+n+'</h5>\n\t\t\t\t\t\t\t\t<span class="opacity-5 mb-n1">'+alamat+'</span>\n\t\t\t\t\t\t\t\t<div class="position-absolute top right lh-1 py-1 px-2 m-2 rounded text-uppercase">\n\t\t\t\t\t\t\t\t\t<small>Sesi </small><small class="session">'+sesi+'</small>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class="position-absolute bottom right py-1 pr-1 m-2" data-toggle="tooltip" data-placement="left" title="'+acaraApa+'">\n\t\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12" fill="currentColor" class="m-1">\n\t\t\t\t\t\t\t\t\t\t<circle cx="8" cy="8" r="4"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>').prependTo(a)})}(a,listKehadiran)),$(listKehadiran).find(".loading").remove(),$(listKehadiran).find(".card:last-of-type").remove(),sessionGuest(),$(totalKehadiran).html($(listKehadiran+"> .card").length),rsvpGuest(),dbEmpty(listKehadiran)},error:function(){$(listKehadiran).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbKehadiran();$(\''+listKehadiran+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listKehadiran)}})}function dbUcapan(){let t=shUrl+"Ucapan";listUcapan="#dataUcapan",totalUcapan=".totalUcapan",$.ajax({type:"get",url:t,success:function(t){let a=$.csv.toArrays(t);$(listUcapan).append(function(t,a){$(t).each(function(t,e){let n=e[0];splitTanggal=n.split("/"),n=Number(splitTanggal[0])+" "+["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"][Number(splitTanggal[1])-1]+" "+splitTanggal[2],nama=e[1],ucapan=e[2],$('<div class="card rounded border-0 bg-adaptive-1 shadow mb-3">\n\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t<div class="font-weight-bold mb-1">'+nama+'</div>\n\t\t\t\t\t\t<p class="text-adaptive mb-0">'+ucapan+'</p>\n\t\t\t\t\t\t<small class="position-absolute top right lh-1 py-1 px-2 m-2 rounded bg-light bg-adaptive-2">'+n+"</small>\n\t\t\t\t\t</div>\n\t\t\t\t</div>").prependTo(a)})}(a,listUcapan)),$(listUcapan).find(".loading").remove(),$(listUcapan).find(".card:last-of-type").remove(),$(totalUcapan).html($(listUcapan+"> .card").length),dbEmpty(listUcapan)},error:function(){$(listUcapan).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbUcapan();$(\''+listUcapan+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listUcapan)}})}function dbBingkisan(){let t=shUrl+"Bingkisan";listBingkisan="#dataBingkisan",totalBingkisan=".totalBingkisan",$.ajax({type:"get",url:t,success:function(t){let a=$.csv.toArrays(t);$(listBingkisan).append(function(t,a){$(t).each(function(t,e){let n=e[1];alamat=e[2],melalui=e[3],pengirim=e[4],nominal=e[5],tanggal=e[6],splitTanggal=tanggal.split("/"),tanggal=Number(splitTanggal[0])+" "+["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"][Number(splitTanggal[1])-1]+" "+splitTanggal[2],$('<div class="card rounded border-0 bg-adaptive-1 shadow mb-3">\n\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t<div class="col-md-4 text-break">\n\t\t\t\t\t\t\t\t<h5 class="font-weight-bold mb-0">'+n+'</h5>\n\t\t\t\t\t\t\t\t<span class="opacity-5 mb-n1">'+alamat+'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="col-md-8 text-adaptive">\n\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t<div class="col-md">\n\t\t\t\t\t\t\t\t\t\t<span class="opacity-5 mr-1">Atas Nama</span>\n\t\t\t\t\t\t\t\t\t\t<span class="text-break">'+pengirim+'</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="col-md">\n\t\t\t\t\t\t\t\t\t\t<span class="opacity-5 mr-1">Melalui</span>\n\t\t\t\t\t\t\t\t\t\t<span class="text-break">'+melalui+'</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t<div class="col-md">\n\t\t\t\t\t\t\t\t\t\t<span class="opacity-5 mr-1">Nominal</span>\n\t\t\t\t\t\t\t\t\t\t<span class="text-break">'+nominal+'</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="col-md">\n\t\t\t\t\t\t\t\t\t\t<span class="opacity-5 mr-1">Dikirim Pada</span>\n\t\t\t\t\t\t\t\t\t\t<span class="text-break">'+tanggal+"</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>").prependTo(a)})}(a,listBingkisan)),$(listBingkisan).find(".loading").remove(),$(listBingkisan).find(".card:last-of-type").remove(),$(totalBingkisan).html($(listBingkisan+"> .card").length),dbEmpty(listBingkisan)},error:function(){$(listBingkisan).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbBingkisan();$(\''+listBingkisan+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listBingkisan)}})}function formChat(){urlChat=gsStart+"AKfycbzG0yo6OgzQ9AGR7AH4Iy9KmfzVJxREQGOS8iBItpjMzz9Qj6FVshiHG-FJTYuiWW9A"+gsEnd,formChat=document.forms.formChat,formSubmitChat=formChat.querySelector('[type="submit"]'),formChat.addEventListener("submit",t=>{t.preventDefault(),formSubmitChat.classList.add("d-none"),$(loadingSubmit).appendTo(formChat),fetch(urlChat,{method:"post",body:new FormData(formChat)}).then(t=>{alertForm("success","Template chat berhasil diperbarui"),$(loadingSubmitButton).remove(),formSubmitChat.classList.remove("d-none"),dbTamuAcara1(),dbTamuAcara2()}).catch(t=>{alertForm("danger","Template chat gagal diperbarui")})})}function dbChat(){let t=shUrl+"Chat";listChat="#dataChat",$.ajax({type:"get",url:t,success:function(t){!function(t){$(t).each(function(t,a){$("#formChat-1").val(a[1]),$("#formChat-2").val(a[2])})}($.csv.toArrays(t)),$(listChat).find(".loading").remove(),$(listChat).find(".d-none").removeClass("d-none"),textChat()},error:function(){$(listChat).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbChat();$(\''+listChat+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listChat)}})}function textChat(){var t="formChatEditable";chatEditable=$('[name="'+t+'"]'),chatHeader1=$("#formChatEditable-1-1"),chatLink1=$("#formChatEditable-1-2"),chatFooter1=$("#formChatEditable-1-3"),chatHeader2=$("#formChatEditable-2-1"),chatLink2=$("#formChatEditable-2-2"),chatFooter2=$("#formChatEditable-2-3"),chat1=$("#formChat-1"),chat2=$("#formChat-2");let a=setInterval(()=>{if(chat1.val()){let t=chat1.val().split("`");chatEditable.each(function(){chatHeader1.val(t[0].slice(0,-2)),chatLink1.val(t[1]),chatFooter1.val(t[2].replace("\n\n",""))}),clearInterval(a)}},100),e=setInterval(()=>{if(chat2.val()){let t=chat2.val().split("`");chatEditable.each(function(){chatHeader2.val(t[0].slice(0,-2)),chatLink2.val(t[1]),chatFooter2.val(t[2].replace("\n\n",""))}),clearInterval(e)}},100);$("#"+t+"-1-1,#"+t+"-1-3").on("input",function(){$("#formChat-1").val(chatHeader1.val()+"\n\n`"+chatLink1.val()+"`\n\n"+chatFooter1.val())}),$("#"+t+"-2-1,#"+t+"-2-3").on("input",function(){$("#formChat-2").val(chatHeader2.val()+"\n\n`"+chatLink2.val()+"`\n\n"+chatFooter2.val())}),document.forms[t].querySelectorAll("textarea").forEach(t=>{t.addEventListener("keydown",t=>{/[`]/g.test(t.key)&&t.preventDefault()})}),$("#pills-6-tab").click(function(){setTimeout(()=>{chatEditable.find("textarea").each(function(){this.setAttribute("style","height:"+this.scrollHeight+"px")})},200)}),chatEditable.find("textarea").on("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}),$(window).resize(function(){chatEditable.find("textarea").each(function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"})}),chatEditable.find(".form-control").focus(function(){$(this).closest(".rounded").addClass("focus")}).blur(function(){$(this).closest(".rounded").removeClass("focus")})}function chatGuest(){let t=setInterval(()=>{if($("#formChatEditable-1-1").val()||$("#formChatEditable-1-3").val()){if($(listTamuAcara1+" > .card").length>0){let a=$(listTamuAcara1+" .chat-guest");a.removeClass("d-none"),a.each(function(){let t=$(this).find("a");if(parent=$(this).closest(".card"),name=parent.find("h5").text(),name=name.split(" ").join("+").replace("'","%27").replace("&","%26"),address=parent.find("h5").next().text(),address=address.split(" ").join("+").replace("'","%27").replace("&","%26"),session=parent.find(".session").text(),from=parent.data("from"),chatContent=chat2.val(),chatContent=chatContent.split("`"),address.length>0&&session>0){let a=chatContent[0]+chatContent[1]+"?"+name+"@"+address+":"+from+"#"+session+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}else if(address.length>0&&session<1){let a=chatContent[0]+chatContent[1]+"?"+name+"@"+address+":"+from+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}else if(address.length<1&&session>0){let a=chatContent[0]+chatContent[1]+"?"+name+":"+from+"#"+session+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}else if(address.length<1&&session<1){let a=chatContent[0]+chatContent[1]+"?"+name+":"+from+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}}),clearInterval(t)}}else $(listTamuAcara1+" .chat-guest").addClass("d-none")},100),a=setInterval(()=>{if($("#formChatEditable-2-1").val()||$("#formChatEditable-2-3").val()){if($(listTamuAcara2+" > .card").length>0){let t=$(listTamuAcara2+" .chat-guest");t.removeClass("d-none"),t.each(function(){let t=$(this).find("a");if(parent=$(this).closest(".card"),name=parent.find("h5").text(),name=name.split(" ").join("+").replace("'","%27").replace("&","%26"),address=parent.find("h5").next().text(),address=address.split(" ").join("+").replace("'","%27").replace("&","%26"),session=parent.find(".session").text(),from=parent.data("from"),chatContent=chat2.val(),chatContent=chatContent.split("`"),address.length>0&&session>0){let a=chatContent[0]+chatContent[1]+"?"+name+"@"+address+":"+from+"#"+session+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}else if(address.length>0&&session<1){let a=chatContent[0]+chatContent[1]+"?"+name+"@"+address+":"+from+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}else if(address.length<1&&session>0){let a=chatContent[0]+chatContent[1]+"?"+name+":"+from+"#"+session+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}else if(address.length<1&&session<1){let a=chatContent[0]+chatContent[1]+"?"+name+":"+from+chatContent[2];a=encodeURIComponent(a),t.attr("href","https://wa.me/?text="+a)}}),clearInterval(a)}}else $(listTamuAcara2+" .chat-guest").addClass("d-none")},100)}function formUndangan(){urlUndangan=gsStart+"AKfycbyTIpt-gVRrvxnu-raxko3uWvrB4l7eXzULc6MFKByFd2uC8DWjjcU3cZKCKxz0yUPg"+gsEnd,formUndangan=document.forms.formUndangan,formSubmitUndangan=formUndangan.querySelector('[type="submit"]'),formUndangan.addEventListener("submit",t=>{t.preventDefault(),formSubmitUndangan.classList.add("d-none"),$(loadingSubmit).appendTo(formUndangan),fetch(urlUndangan,{method:"post",body:new FormData(formUndangan)}).then(t=>{alertForm("success","Rincian undangan berhasil diperbarui"),$(loadingSubmitButton).remove(),formSubmitUndangan.classList.remove("d-none")}).catch(t=>{alertForm("danger","Rincian undangan gagal diperbarui")})})}function dbUndangan(){let t=shUrl+"Undangan";listUndangan="#dataUndangan",$.ajax({type:"get",url:t,success:function(t){!function(t){$(t).each(function(t,a){let e="#formUndangan-";$(e+"1-1").val(a[1]),$(e+"1-2").val(a[2]),$(e+"2-1").val(a[3]),$(e+"2-2").val(a[4]),$(e+"3-1").val(a[5]),$(e+"3-2").val(a[6]),$(e+"2-s1").val(a[7]),$(e+"2-s2").val(a[8]),$(e+"2-s3").val(a[9]),$(e+"2-s4").val(a[10]),$(e+"2-s5").val(a[11]),$(e+"3-s1").val(a[12]),$(e+"3-s2").val(a[13]),$(e+"3-s3").val(a[14]),$(e+"3-s4").val(a[15]),$(e+"3-s5").val(a[16])})}($.csv.toArrays(t)),$(listUndangan).find(".loading").remove(),$(listUndangan).find(".d-none").removeClass("d-none"),checkboxSession()},error:function(){$(listUndangan).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbUndangan();$(\''+listUndangan+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listUndangan)}});let a="#formUndangan-";function e(t,a){if(t.val()){let e=t.val().split(" ");parent=t.closest(".sr-only").next(),parent.find('[class*="-1"]').val(e[0]),parent.find('[class*="-2"]').val(e[2]),parent.find('[class*="-3"]').val(e[3]),clearInterval(a)}}timepicker1=$(a+"1-2"),timepicker2=$(a+"2-2"),timepicker3=$(a+"3-2"),timepicker2s=a+"2-s",timepicker2s1=$(timepicker2s+"1"),timepicker2s2=$(timepicker2s+"2"),timepicker2s3=$(timepicker2s+"3"),timepicker2s4=$(timepicker2s+"4"),timepicker2s5=$(timepicker2s+"5"),timepicker3s=a+"3-s",timepicker3s1=$(timepicker3s+"1"),timepicker3s2=$(timepicker3s+"2"),timepicker3s3=$(timepicker3s+"3"),timepicker3s4=$(timepicker3s+"4"),timepicker3s5=$(timepicker3s+"5");let n=setInterval(()=>{e(timepicker1,n)},100),i=setInterval(()=>{e(timepicker2,i)},100),s=setInterval(()=>{e(timepicker3,s)},100),r=setInterval(()=>{e(timepicker2s1,r)},100),o=setInterval(()=>{e(timepicker2s2,o)},100),l=setInterval(()=>{e(timepicker2s3,l)},100),d=setInterval(()=>{e(timepicker2s4,d)},100),c=setInterval(()=>{e(timepicker2s5,c)},100),m=setInterval(()=>{e(timepicker3s1,m)},100),u=setInterval(()=>{e(timepicker3s2,u)},100),p=setInterval(()=>{e(timepicker3s3,p)},100),h=setInterval(()=>{e(timepicker3s4,h)},100),f=setInterval(()=>{e(timepicker3s5,f)},100)}function pickerDate(){let t=$(".datepicker");t.datepicker({format:"DD, d MM yyyy",language:"id",locale:"id",autoclose:!0,todayHighlight:!0,leftArrow:"",rightArrow:"&raquo;"}).on("show",function(t){$(".datepicker-dropdown > *:not(:first-child)").css("display","none"),$(".prev").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="25" height="25" fill="currentColor"><path d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"></path></svg>'),$(".next").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="25" height="25" fill="currentColor"><path d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}),$(document).on("DOMMouseScroll mousewheel scroll",".modal",function(){$("input").blur(),t.datepicker("hide")})}function pickerTime(){let t=$(".timepicker");function a(t){let a=t.closest(pickerParent);timestart=a.find(pickerParent+"-1").val(),timeend=a.find(pickerParent+"-2").val(),timezone=a.find(pickerParent+"-3").val(),a.prev().find("input").val(timestart+" s.d. "+timeend+" "+timezone)}pickerSource=".ui-timepicker-standard",pickerParent=".get-timepicker",pickerPopup=pickerParent+" "+pickerSource,t.timepicker({timeFormat:"HH:mm",startHour:6,interval:30}),t.focus(function(){let e=$(this);parent=$(this).closest("div"),$(pickerPopup).remove(),$("body > "+pickerSource).clone().appendTo(parent),e.next().find("a").click(function(n){let i=n.target.innerHTML;e.val(i),a(e),t.next().remove()})}),$(document).click(function(t){$(t.target).closest(pickerParent).length||$(pickerPopup).remove()}),$(pickerParent+"-3").each(function(){let t=$(this);t.on("click",function(){$(pickerPopup).remove()}),t.on("change",function(){a($(this))})})}function checkboxSession(){let t="#formUndangan-";function a(t,a){$(a).val()?$(t).attr("checked","checked"):$(a).closest(".sr-only").next().each(function(){$(this).find("input").attr("disabled","disabled"),$(this).find("select").attr("disabled","disabled")})}function e(t,a){$(t).click(function(){$(a).val()&&($(a).val(""),$(a).closest(".sr-only").next().each(function(){$(this).find("input").val(""),$(this).find("select").val("WIB")})),$(a).closest(".sr-only").next().each(function(){let a=$(this).find("input");timeSelect=$(this).find("select"),$(t).is(":checked")?(a.removeAttr("disabled"),timeSelect.removeAttr("disabled")):(a.attr("disabled","disabled"),timeSelect.attr("disabled","disabled"))})})}input21=t+"2-s1",input22=t+"2-s2",input23=t+"2-s3",input24=t+"2-s4",input25=t+"2-s5",input31=t+"3-s1",input32=t+"3-s2",input33=t+"3-s3",input34=t+"3-s4",input35=t+"3-s5",check21=input21+"-check",check22=input22+"-check",check23=input23+"-check",check24=input24+"-check",check25=input25+"-check",check31=input31+"-check",check32=input32+"-check",check33=input33+"-check",check34=input34+"-check",check35=input35+"-check",a(check21,input21),a(check22,input22),a(check23,input23),a(check24,input24),a(check25,input25),a(check31,input31),a(check32,input32),a(check33,input33),a(check34,input34),a(check35,input35),e(check21,input21),e(check22,input22),e(check23,input23),e(check24,input24),e(check25,input25),e(check31,input31),e(check32,input32),e(check33,input33),e(check34,input34),e(check35,input35)}function formLogin(){urlLogin=gsStart+"AKfycbxwPk1-sbmvRQoqHwwaSrImA7FLHKmUuRiX3YAJMV7b8z_hYy1VPMonjrqUA6iSE6Yu"+gsEnd,formLogin=document.forms.formLogin,formSubmitLogin=formLogin.querySelector('[type="submit"]'),formLogin.addEventListener("submit",t=>{t.preventDefault(),formSubmitLogin.classList.add("d-none"),$(loadingSubmit).appendTo(formLogin),fetch(urlLogin,{method:"post",body:new FormData(formLogin)}).then(t=>{alertForm("success","Data login berhasil diperbarui"),$(loadingSubmitButton).remove(),formSubmitLogin.classList.remove("d-none")}).catch(t=>{alertForm("danger","Data login gagal diperbarui")})})}function dbLogin(){let t=shUrl+"Login";listLogin="#dataLogin",$.ajax({type:"get",url:t,success:function(t){!function(t){$(t).each(function(t,a){$("#formLogin-1-1").val(a[1]),$("#formLogin-1-2").val(a[2]),$("#formLogin-2-1").val(a[3]),$("#formLogin-2-2").val(a[4])})}($.csv.toArrays(t)),$(listLogin).find(".loading").remove(),$(listLogin).find(".d-none").removeClass("d-none")},error:function(){$(listLogin).find(".loading").hide(),$('<div class="reload text-center m-4 p-4">\n\t\t\t\t\t<button type="button" class="btn btn-primary rounded px-4" onclick="dbLogin();$(\''+listLogin+"').find('.loading').show();$(this).closest('div').remove()\">\n\t\t\t\t\t\tMuat Ulang\n\t\t\t\t\t</button>\n\t\t\t\t</div>").prependTo(listLogin)}})}function cookieLogin(){1==localStorage.getItem("login account")&&$("#formLogin-2-1").closest(".row").hide(),2==localStorage.getItem("login account")&&$("#formLogin-1-1").closest(".row").hide()}function cookieLogout(){localStorage.removeItem("login cookie"),localStorage.removeItem("login account"),setTimeout(()=>{window.location.href=urlLogout},100)}function viewInvitation(){window.open(urlView,"_blank").focus()}function togglePassword(){let t=".toggle-password";$(t+"-trigger").click(function(){$(t).each(function(){$(this).find(t+"-trigger").toggleClass("hide show");let a=$(this).find("input");"password"===a.attr("type")?a.attr("type","text"):a.attr("type","password")})})}function initTooltip(){let t='[data-toggle="tooltip"]',a=setInterval(()=>{$("#dataTamuAcara1 "+t).length>0&&($(t).tooltip(),clearInterval(a))},1e3),e=setInterval(()=>{$("#dataTamuAcara2 "+t).length>0&&($(t).tooltip(),clearInterval(e))},1e3),n=setInterval(()=>{$("#dataKehadiran "+t).length>0&&($(t).tooltip(),clearInterval(n))},1e3)}loadingSubmit='<div class="btn btn-success btn-block py-2 px-3 mt-2 mb-4 d-flex align-items-center justify-content-center loading-submit"><div class="spinner-border spinner-border-sm text-white" role="status"><span class="sr-only">Loading...</span></div><span class="ml-2">Menyimpan...</span></div>',loadingSubmitButton=".loading-submit",loadingRemove='<div class="btn btn-danger btn-block py-2 px-3 mt-0 d-flex align-items-center justify-content-center loading-remove"><div class="spinner-border spinner-border-sm text-white" role="status"><span class="sr-only">Loading...</span></div><span class="ml-2">Menghapus...</span></div>',loadingRemoveButton=".loading-remove",formTamuAcara1(),formHapusTamuAcara1(),dbTamuAcara1(),findTamuAcara1(),formTamuAcara2(),formHapusTamuAcara2(),dbTamuAcara2(),findTamuAcara2(),dbKehadiran(),dbUcapan(),dbBingkisan(),formChat(),dbChat(),textChat(),chatGuest(),formUndangan(),dbUndangan(),pickerDate(),pickerTime(),formLogin(),dbLogin(),cookieLogin(),togglePassword(),initTooltip();